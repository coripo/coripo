{"version":3,"sources":["../src/basic.generator.js"],"names":["Generator","dependencies","id","name","description","inputs","title","fields","label","type","comment","optional","helper","getAdapter","primaryAdapterId","generate","config","event","Event","generatorId","note","since","OneDate","till","repeats","sequels","overlap","internal","internalOverlap","external","externalOverlap","exports"],"mappings":";;AAAA,IAAMA,YAAY,SAASA,SAAT,CAAmBC,YAAnB,EAAiC;AACjD,MAAMC,KAAK,+BAAX;AACA,MAAMC,OAAO,OAAb;AACA,MAAMC,cAAc,yDAApB;AACA,MAAMC,SAAS,CACb;AACEC,WAAO,OADT;AAEEC,YAAQ,CACN;AACEL,UAAI,OADN;AAEEM,aAAO,OAFT;AAGEC,YAAM;AAHR,KADM,EAMN;AACEP,UAAI,MADN;AAEEM,aAAO,MAFT;AAGEC,YAAM;AAHR,KANM,EAWN;AACEP,UAAI,OADN;AAEEM,aAAO,OAFT;AAGEC,YAAM,MAHR;AAIEC,eAAS;AAJX,KAXM,EAiBN;AACER,UAAI,MADN;AAEEM,aAAO,MAFT;AAGEC,YAAM,MAHR;AAIEC,eAAS,qBAJX;AAKEC,gBAAU;AALZ,KAjBM;AAFV,GADa,EA6Bb;AACEL,WAAO,SADT;AAEEC,YAAQ,CACN;AACEL,UAAI,SADN;AAEEM,aAAO,SAFT;AAGEC,YAAM,SAHR;AAIEE,gBAAU;AAJZ,KADM;AAFV,GA7Ba,EAwCb;AACEL,WAAO,SADT;AAEEC,YAAQ,CACN;AACEL,UAAI,SADN;AAEEM,aAAO,SAFT;AAGEC,YAAM,SAHR;AAIEE,gBAAU;AAJZ,KADM;AAFV,GAxCa,EAmDb;AACEL,WAAO,gBADT;AAEEC,YAAQ,CACN;AACEL,UAAI,iBADN;AAEEM,aAAO,0BAFT;AAGEC,YAAM,aAHR;AAIEC,eAAS,0CAJX;AAKEC,gBAAU;AALZ,KADM,EAQN;AACET,UAAI,iBADN;AAEEM,aAAO,0BAFT;AAGEC,YAAM,aAHR;AAIEC,eAAS,sDAJX;AAKEC,gBAAU;AALZ,KARM;AAFV,GAnDa,CAAf;AAuEA,MAAMC,SAAS;AACbC,gBAAYZ,aAAaY,UADZ;AAEbC,sBAAkBb,aAAaa;AAFlB,GAAf;;AAKA,MAAMC,WAAW,SAAXA,QAAW,CAACC,MAAD,EAAY;AAC3B,QAAMC,QAAQ,IAAIhB,aAAaiB,KAAjB,CAAuB;AACnChB,UAAIc,OAAOd,EADwB;AAEnCiB,mBAAajB,EAFsB;AAGnCI,aAAOU,OAAOV,KAHqB;AAInCc,YAAMJ,OAAOI,IAJsB;AAKnCC,aAAO,IAAIpB,aAAaqB,OAAjB,CAAyBN,OAAOK,KAAhC,EAAuCT,MAAvC,CAL4B;AAMnCW,YAAM,IAAItB,aAAaqB,OAAjB,CAA0BN,OAAOO,IAAP,IAAeP,OAAOK,KAAhD,EAAwDT,MAAxD,CAN6B;AAOnCY,eAASR,OAAOQ,OAPmB;AAQnCC,eAAST,OAAOS,OARmB;AASnCC,eAAS,EAAEC,UAAUX,OAAOY,eAAnB,EAAoCC,UAAUb,OAAOc,eAArD;AAT0B,KAAvB,CAAd;AAWA,WAAOb,KAAP;AACD,GAbD;;AAeA,SAAO,EAAEf,MAAF,EAAMC,UAAN,EAAYC,wBAAZ,EAAyBC,cAAzB,EAAiCU,kBAAjC,EAAP;AACD,CAhGD;;AAkGAgB,QAAQ/B,SAAR,GAAoBA,SAApB","file":"basic.generator.js","sourcesContent":["const Generator = function Generator(dependencies) {\n  const id = 'coripo.coripo.generator.basic';\n  const name = 'Basic';\n  const description = 'Create custom events, simple or extremely sophisticated';\n  const inputs = [\n    {\n      title: 'Basic',\n      fields: [\n        {\n          id: 'title',\n          label: 'Title',\n          type: 'text',\n        },\n        {\n          id: 'note',\n          label: 'Note',\n          type: 'wysiwyg',\n        },\n        {\n          id: 'since',\n          label: 'Since',\n          type: 'date',\n          comment: 'Choose the beginning date',\n        },\n        {\n          id: 'till',\n          label: 'Till',\n          type: 'date',\n          comment: 'Choose the last day',\n          optional: true,\n        },\n      ],\n    },\n    {\n      title: 'Repeats',\n      fields: [\n        {\n          id: 'repeats',\n          label: 'Repeats',\n          type: 'repeats',\n          optional: true,\n        },\n      ],\n    },\n    {\n      title: 'Sequels',\n      fields: [\n        {\n          id: 'sequels',\n          label: 'Sequels',\n          type: 'sequels',\n          optional: true,\n        },\n      ],\n    },\n    {\n      title: 'Overlap Policy',\n      fields: [\n        {\n          id: 'internalOverlap',\n          label: 'Internal Overlaps Policy',\n          type: 'overlapRule',\n          comment: 'Internal overlaps can happen via sequels',\n          optional: true,\n        },\n        {\n          id: 'externalOverlap',\n          label: 'External Overlaps Policy',\n          type: 'overlapRule',\n          comment: 'External overlaps can happen via sequels and repeats',\n          optional: true,\n        },\n      ],\n    },\n  ];\n  const helper = {\n    getAdapter: dependencies.getAdapter,\n    primaryAdapterId: dependencies.primaryAdapterId,\n  };\n\n  const generate = (config) => {\n    const event = new dependencies.Event({\n      id: config.id,\n      generatorId: id,\n      title: config.title,\n      note: config.note,\n      since: new dependencies.OneDate(config.since, helper),\n      till: new dependencies.OneDate((config.till || config.since), helper),\n      repeats: config.repeats,\n      sequels: config.sequels,\n      overlap: { internal: config.internalOverlap, external: config.externalOverlap },\n    });\n    return event;\n  };\n\n  return { id, name, description, inputs, generate };\n};\n\nexports.Generator = Generator;\n"]}