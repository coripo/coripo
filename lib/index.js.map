{"version":3,"sources":["../src/index.js"],"names":["EventManager","require","App","config","generators","length","Error","eventManager","primaryAdapterId","plugins","adapters","locale","organizationFeature","getAdaptersInfo","setPrimaryAdapterId","adapterId","getGeneratorsInfo","generateDate","dateConfig","getCurrentDate","addEvents","eventConfigs","reduce","acc","cfg","addEvent","getMonthInfo","year","month","getEventsIn","since","till","eventConfig","removeEvent","eventId","editEvent","module","exports"],"mappings":";;AAAA,IAAMA,eAAeC,QAAQ,oBAAR,CAArB;;AAEA,IAAMC,MAAM,SAASA,GAAT,GAA0B;AAAA,MAAbC,MAAa,uEAAJ,EAAI;;AACpC,MAAI,CAACA,OAAOC,UAAP,IAAqB,EAAtB,EAA0BC,MAA1B,KAAqC,CAAzC,EAA4C;AAC1C,UAAM,IAAIC,KAAJ,CAAU,0DAAV,CAAN;AACD;AACD,MAAMC,eAAe,IAAIP,YAAJ,CAAiB;AACpCQ,sBAAkBL,OAAOK,gBADW;AAEpCC,aAAS;AACPC,gBAAUP,OAAOO,QAAP,IAAmB,EADtB;AAEPN,kBAAYD,OAAOC;AAFZ,KAF2B;AAMpCO,YAAQR,OAAOQ,MAAP,IAAiB,IANW;AAOpCC,yBAAqBT,OAAOS,mBAAP,IAA8B;AAPf,GAAjB,CAArB;;AAUA,MAAMC,kBAAkB,SAAlBA,eAAkB;AAAA,WAAMN,aAAaM,eAAb,EAAN;AAAA,GAAxB;AACA,MAAMC,sBAAsB,SAAtBA,mBAAsB;AAAA,WAAa,IAAIZ,GAAJ,CAAQ;AAC/CM,wBAAkBO,SAD6B;AAE/CL,gBAAUP,OAAOO,QAF8B;AAG/CN,kBAAYD,OAAOC;AAH4B,KAAR,CAAb;AAAA,GAA5B;AAKA,MAAMY,oBAAoB,SAApBA,iBAAoB;AAAA,WAAMT,aAAaS,iBAAb,EAAN;AAAA,GAA1B;AACA,MAAMC,eAAe,SAAfA,YAAe;AAAA,WAAcV,aAAaU,YAAb,CAA0BC,UAA1B,CAAd;AAAA,GAArB;AACA,MAAMC,iBAAiB,SAAjBA,cAAiB;AAAA,WAAMZ,aAAaY,cAAb,EAAN;AAAA,GAAvB;AACA,MAAMC,YAAY,SAAZA,SAAY;AAAA,WAAgBC,aAAaC,MAAb,CAAoB,UAACC,GAAD,EAAMC,GAAN;AAAA,aAAcjB,aAAakB,QAAb,CAAsBD,GAAtB,CAAd;AAAA,KAApB,CAAhB;AAAA,GAAlB;AACA,MAAME,eAAe,SAAfA,YAAe,CAACC,IAAD,EAAOC,KAAP;AAAA,WAAiBrB,aAAamB,YAAb,CAA0BC,IAA1B,EAAgCC,KAAhC,CAAjB;AAAA,GAArB;AACA,MAAMC,cAAc,SAAdA,WAAc,CAACC,KAAD,EAAQC,IAAR;AAAA,WAAiBxB,aAAasB,WAAb,CAAyBC,KAAzB,EAAgCC,IAAhC,CAAjB;AAAA,GAApB;AACA,MAAMN,WAAW,SAAXA,QAAW;AAAA,WAAelB,aAAakB,QAAb,CAAsBO,WAAtB,CAAf;AAAA,GAAjB;AACA,MAAMC,cAAc,SAAdA,WAAc;AAAA,WAAW1B,aAAa0B,WAAb,CAAyBC,OAAzB,CAAX;AAAA,GAApB;AACA,MAAMC,YAAY,SAAZA,SAAY;AAAA,WAAe5B,aAAa4B,SAAb,CAAuBH,WAAvB,CAAf;AAAA,GAAlB;;AAEA,SAAO;AACLnB,oCADK;AAELC,4CAFK;AAGLE,wCAHK;AAILC,8BAJK;AAKLE,kCALK;AAMLC,wBANK;AAOLM,8BAPK;AAQLG,4BARK;AASLJ,sBATK;AAULQ,4BAVK;AAWLE;AAXK,GAAP;AAaD,CA3CD;;AA6CAC,OAAOC,OAAP,GAAiBnC,GAAjB","file":"index.js","sourcesContent":["const EventManager = require('./event.manager.js');\n\nconst App = function App(config = {}) {\n  if ((config.generators || []).length === 0) {\n    throw new Error('config.generators array must at least have one generator');\n  }\n  const eventManager = new EventManager({\n    primaryAdapterId: config.primaryAdapterId,\n    plugins: {\n      adapters: config.adapters || [],\n      generators: config.generators,\n    },\n    locale: config.locale || 'en',\n    organizationFeature: config.organizationFeature || false,\n  });\n\n  const getAdaptersInfo = () => eventManager.getAdaptersInfo();\n  const setPrimaryAdapterId = adapterId => new App({\n    primaryAdapterId: adapterId,\n    adapters: config.adapters,\n    generators: config.generators,\n  });\n  const getGeneratorsInfo = () => eventManager.getGeneratorsInfo();\n  const generateDate = dateConfig => eventManager.generateDate(dateConfig);\n  const getCurrentDate = () => eventManager.getCurrentDate();\n  const addEvents = eventConfigs => eventConfigs.reduce((acc, cfg) => eventManager.addEvent(cfg));\n  const getMonthInfo = (year, month) => eventManager.getMonthInfo(year, month);\n  const getEventsIn = (since, till) => eventManager.getEventsIn(since, till);\n  const addEvent = eventConfig => eventManager.addEvent(eventConfig);\n  const removeEvent = eventId => eventManager.removeEvent(eventId);\n  const editEvent = eventConfig => eventManager.editEvent(eventConfig);\n\n  return {\n    getAdaptersInfo,\n    setPrimaryAdapterId,\n    getGeneratorsInfo,\n    generateDate,\n    getCurrentDate,\n    addEvents,\n    getMonthInfo,\n    getEventsIn,\n    addEvent,\n    removeEvent,\n    editEvent,\n  };\n};\n\nmodule.exports = App;\n"]}