{"version":3,"sources":["../src/index.js"],"names":["EventManager","require","App","config","generators","length","Error","eventManager","primaryAdapterId","plugins","adapters","locale","getAdaptersInfo","setPrimaryAdapterId","adapterId","getGeneratorsInfo","generateDate","dateConfig","getCurrentDate","addEvents","eventConfigs","reduce","acc","cfg","addEvent","getMonthInfo","year","month","getEventsIn","since","till","eventConfig","removeEvent","eventId","editEvent","module","exports"],"mappings":";;AAAA,IAAMA,eAAeC,QAAQ,oBAAR,CAArB;;AAEA,IAAMC,MAAM,SAASA,GAAT,GAA0B;AAAA,MAAbC,MAAa,uEAAJ,EAAI;;AACpC,MAAI,CAACA,OAAOC,UAAP,IAAqB,EAAtB,EAA0BC,MAA1B,KAAqC,CAAzC,EAA4C;AAC1C,UAAM,IAAIC,KAAJ,CAAU,0DAAV,CAAN;AACD;AACD,MAAMC,eAAe,IAAIP,YAAJ,CAAiB;AACpCQ,sBAAkBL,OAAOK,gBADW;AAEpCC,aAAS;AACPC,gBAAUP,OAAOO,QAAP,IAAmB,EADtB;AAEPN,kBAAYD,OAAOC;AAFZ,KAF2B;AAMpCO,YAAQR,OAAOQ,MAAP,IAAiB;AANW,GAAjB,CAArB;;AASA,MAAMC,kBAAkB,SAAlBA,eAAkB;AAAA,WAAML,aAAaK,eAAb,EAAN;AAAA,GAAxB;AACA,MAAMC,sBAAsB,SAAtBA,mBAAsB;AAAA,WAAa,IAAIX,GAAJ,CAAQ;AAC/CM,wBAAkBM,SAD6B;AAE/CJ,gBAAUP,OAAOO,QAF8B;AAG/CN,kBAAYD,OAAOC;AAH4B,KAAR,CAAb;AAAA,GAA5B;AAKA,MAAMW,oBAAoB,SAApBA,iBAAoB;AAAA,WAAMR,aAAaQ,iBAAb,EAAN;AAAA,GAA1B;AACA,MAAMC,eAAe,SAAfA,YAAe;AAAA,WAAcT,aAAaS,YAAb,CAA0BC,UAA1B,CAAd;AAAA,GAArB;AACA,MAAMC,iBAAiB,SAAjBA,cAAiB;AAAA,WAAMX,aAAaW,cAAb,EAAN;AAAA,GAAvB;AACA,MAAMC,YAAY,SAAZA,SAAY;AAAA,WAAgBC,aAAaC,MAAb,CAAoB,UAACC,GAAD,EAAMC,GAAN;AAAA,aAAchB,aAAaiB,QAAb,CAAsBD,GAAtB,CAAd;AAAA,KAApB,CAAhB;AAAA,GAAlB;AACA,MAAME,eAAe,SAAfA,YAAe,CAACC,IAAD,EAAOC,KAAP;AAAA,WAAiBpB,aAAakB,YAAb,CAA0BC,IAA1B,EAAgCC,KAAhC,CAAjB;AAAA,GAArB;AACA,MAAMC,cAAc,SAAdA,WAAc,CAACC,KAAD,EAAQC,IAAR;AAAA,WAAiBvB,aAAaqB,WAAb,CAAyBC,KAAzB,EAAgCC,IAAhC,CAAjB;AAAA,GAApB;AACA,MAAMN,WAAW,SAAXA,QAAW;AAAA,WAAejB,aAAaiB,QAAb,CAAsBO,WAAtB,CAAf;AAAA,GAAjB;AACA,MAAMC,cAAc,SAAdA,WAAc;AAAA,WAAWzB,aAAayB,WAAb,CAAyBC,OAAzB,CAAX;AAAA,GAApB;AACA,MAAMC,YAAY,SAAZA,SAAY;AAAA,WAAe3B,aAAa2B,SAAb,CAAuBH,WAAvB,CAAf;AAAA,GAAlB;;AAEA,SAAO;AACLnB,oCADK;AAELC,4CAFK;AAGLE,wCAHK;AAILC,8BAJK;AAKLE,kCALK;AAMLC,wBANK;AAOLM,8BAPK;AAQLG,4BARK;AASLJ,sBATK;AAULQ,4BAVK;AAWLE;AAXK,GAAP;AAaD,CA1CD;;AA4CAC,OAAOC,OAAP,GAAiBlC,GAAjB","file":"index.js","sourcesContent":["const EventManager = require('./event.manager.js');\n\nconst App = function App(config = {}) {\n  if ((config.generators || []).length === 0) {\n    throw new Error('config.generators array must at least have one generator');\n  }\n  const eventManager = new EventManager({\n    primaryAdapterId: config.primaryAdapterId,\n    plugins: {\n      adapters: config.adapters || [],\n      generators: config.generators,\n    },\n    locale: config.locale || 'en',\n  });\n\n  const getAdaptersInfo = () => eventManager.getAdaptersInfo();\n  const setPrimaryAdapterId = adapterId => new App({\n    primaryAdapterId: adapterId,\n    adapters: config.adapters,\n    generators: config.generators,\n  });\n  const getGeneratorsInfo = () => eventManager.getGeneratorsInfo();\n  const generateDate = dateConfig => eventManager.generateDate(dateConfig);\n  const getCurrentDate = () => eventManager.getCurrentDate();\n  const addEvents = eventConfigs => eventConfigs.reduce((acc, cfg) => eventManager.addEvent(cfg));\n  const getMonthInfo = (year, month) => eventManager.getMonthInfo(year, month);\n  const getEventsIn = (since, till) => eventManager.getEventsIn(since, till);\n  const addEvent = eventConfig => eventManager.addEvent(eventConfig);\n  const removeEvent = eventId => eventManager.removeEvent(eventId);\n  const editEvent = eventConfig => eventManager.editEvent(eventConfig);\n\n  return {\n    getAdaptersInfo,\n    setPrimaryAdapterId,\n    getGeneratorsInfo,\n    generateDate,\n    getCurrentDate,\n    addEvents,\n    getMonthInfo,\n    getEventsIn,\n    addEvent,\n    removeEvent,\n    editEvent,\n  };\n};\n\nmodule.exports = App;\n"]}